<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Designing Hypermedia APIs</title>

  <meta name="viewport" content="width=device-width"/>

  <link rel="stylesheet" href="./css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="./css/showoff.css" type="text/css"/>

  <script type="text/javascript" src="./js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="./js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="./js/jquery-print.js"></script>
  <script type="text/javascript" src="./js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="./js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="./js/fg.menu.js"></script>
  <script type="text/javascript" src="./js/showoff.js"></script>
  <script type="text/javascript" src="./js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="./js/sh_main.min.js"></script>
  <script type="text/javascript" src="./js/core.js"></script>
  <script type="text/javascript" src="./js/showoffcore.js"></script>
  <script type="text/javascript" src="./js/coffee-script.js"></script>

  <link type="text/css" href="./css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/sh_style.css" rel="stylesheet" >

  
    <link rel="stylesheet" href="file/something.css" type="text/css"/>
  

  

  <script type="text/javascript">
  $(function(){
      setupPreso(false, './');
  });
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content title-slide" ref="background/01_title">
<h1>Designing Hypermedia APIs</h1>

<h2>by @steveklabnik</h2></div>
</div><div class="slide" data-transition="none"><div class="content hello" ref="background/02_about_me/1">
<h1>Hello there, <br/><strong>I'm Steve</strong>.</h1></div>
</div><div class="slide" data-transition="none"><div class="content hackety" ref="background/02_about_me/2">
<h1>I hack on <br/><strong>Hackety Hack</strong>.</h1></div>
</div><div class="slide" data-transition="none"><div class="content jumpstart" ref="background/02_about_me/3">
<h1>I teach with <br/><strong>Jumpstart Lab</strong>.</h1></div>
</div><div class="slide" data-transition="none"><div class="content meaning-of-rest" ref="background/03_rabbit_hole/1">
<h3>one day, I went</h3>

<h2>Searching</h2>

<p>for the meaning of</p>

<h1>REST</h1></div>
</div><div class="slide" data-transition="none"><div class="content over" ref="background/03_rabbit_hole/2">
<h1>REST is</h1>

<p><img src="./file/background/over.png" alt="over"/></p></div>
</div><div class="slide" data-transition="none"><div class="content rest-disclaimer" ref="background/03_rabbit_hole/3">


<h1>Remember, I'm speaking about &#x2018;Rails REST.&#x2019;</h1>


</div>
</div><div class="slide" data-transition="none"><div class="content strike padding-bottom" ref="background/03_rabbit_hole/4">


<h1 class="rest"><span class="strikethrough">REST</span> APIs</h1>


<h1 class="hypermedia">Hypermedia APIs</h1>


</div>
</div><div class="slide" data-transition="none"><div class="content background padding-bottom" ref="background/03_rabbit_hole/5">
<h1>Some Background</h1></div>
</div><div class="slide" data-transition="none"><div class="content designing-hypermedia-apis" ref="background/03_rabbit_hole/6">
<h1><span class="designing">Designing</span> <span class="hypermedia">Hypermedia</span> <span class="apis">APIs</span></h1></div>
</div><div class="slide" data-transition="none"><div class="content api-overview" ref="api_overview/01_four_styles/1">
<h1>API Overview</h1></div>
</div><div class="slide" data-transition="none"><div class="content three-styles" ref="api_overview/01_four_styles/2">
<h1>Four major architectural styles</h1></div>
</div><div class="slide" data-transition="none"><div class="content style-rpc" ref="api_overview/01_four_styles/3">
<h1>RPC</h1>

<pre><code>POST /jsonrpc
{ "method": "echo",
  "params": 
 ["Hello JSON-RPC"],
  "id": 1
}

Response:
{ "result": "Hello JSON-RPC",
  "error": null, "id": 1}
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content style-rpc-philosophy" ref="api_overview/01_four_styles/4">
<h1>RPC</h1>

<h2>Make a method call over the internet.</h2></div>
</div><div class="slide" data-transition="none"><div class="content style-soap" ref="api_overview/01_four_styles/5">
<h1>SOAP</h1>

<pre><code>POST /soap
&lt;xml&gt;
  ZOMGSOMUCHSTUFF

Response: 
&lt;xml&gt;
  ZOMGSOMUCHSTUFF
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content style-soap-philosophy" ref="api_overview/01_four_styles/6">
<h1>SOAP</h1>

<h2>Send an object over the wire.</h2></div>
</div><div class="slide" data-transition="none"><div class="content rest-disclaimer" ref="api_overview/01_four_styles/7">


<h1>Remember, I'm speaking about &#x2018;Rails REST.&#x2019;</h1>


</div>
</div><div class="slide" data-transition="none"><div class="content style-rest" ref="api_overview/01_four_styles/8">
<h1>REST</h1>

<pre><code>PUT /posts/1
&amp;title=Hello%20World

Response:
200 OK
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content style-rest-philosophy" ref="api_overview/01_four_styles/9">
<h1>REST</h1>

<h2>RPC with a uniform interface</h2></div>
</div><div class="slide" data-transition="none"><div class="content style-hypermedia" ref="api_overview/01_four_styles/10">
<h1>Hypermedia</h1>

<pre><code>GET /
Content-Type: application/collection+json

{ "collection" :
  {
  "links" : [
    {"rel" : "feed",
     "href" : "http://example.org/rss"}
  ],
  ...
}
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content style-hypermedia-philosophy" ref="api_overview/01_four_styles/11">
<h1>Hypermedia</h1>

<h2>Hypertext as the engine of application state</h2></div>
</div><div class="slide" data-transition="none"><div class="content three-styles" ref="api_overview/01_four_styles/12">
<h1>RECAP: Four major architectural styles</h1>

<ul>
<li>RPC</li>
<li>SOAP</li>
<li>REST</li>
<li>Hypermedia</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content blue-title" ref="api_overview/02_definitions/1">
<h1>Some Definitions</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="api_overview/02_definitions/2">
<h1>hy&#xB7;per&#xB7;me&#xB7;di&#xB7;a&#x2002;<br/>[hahy-per-mee-dee-uh]</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="api_overview/02_definitions/3">
<h1>hypertext <br/>[hahy-per-tekst]</h1></div>
</div><div class="slide" data-transition="none"><div class="content big-para" ref="api_overview/02_definitions/4">
<p>Hypertext is <strong>text</strong> displayed on a computer or other electronic
device <strong>with references</strong> (hyperlinks) to other text.</p></div>
</div><div class="slide" data-transition="none"><div class="content big-para" ref="api_overview/02_definitions/5">
<p>Hypermedia extends hypertext to all media.</p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="api_overview/02_definitions/6">
<h1>Media type</h1></div>
</div><div class="slide" data-transition="none"><div class="content big-para" ref="api_overview/02_definitions/7">
<p>A media type is a way of identifing the structure of a document.</p>

<p>Ex: <code>application/json</code>, <code>text/html</code></p></div>
</div><div class="slide" data-transition="none"><div class="content green-title padding-bottom" ref="hypermedia_overview/01_three_things/1">
<h1>Hypermedia APIs</h1></div>
</div><div class="slide" data-transition="none"><div class="content green-title padding-bottom" ref="hypermedia_overview/01_three_things/2">
<h1>Hypermedia APIs</h1>

<ul>
<li>HTTP</li>
<li>MIME</li>
<li>Hypermedia</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content green-title medium-paras" ref="hypermedia_overview/01_three_things/3">
<h1>HTTP</h1>

<p>How stuff gets sent</p></div>
</div><div class="slide" data-transition="none"><div class="content green-title medium-paras" ref="hypermedia_overview/01_three_things/4">
<h1>MIME</h1>

<p>What stuff gets sent</p></div>
</div><div class="slide" data-transition="none"><div class="content green-title medium-paras" ref="hypermedia_overview/01_three_things/5">
<h1>Hypermedia</h1>

<p>Specific kinds of stuff that gets sent</p></div>
</div><div class="slide" data-transition="none"><div class="content green-title little-bullets" ref="hypermedia_overview/01_three_things/6">
<h1>Why HTTP?</h1>

<ul>
<li>Client-Server</li>
<li>Stateless</li>
<li>Caching</li>
<li>Uniform Interface

<ul>
<li>identification of resources</li>
<li>representations</li>
<li>self-descriptive messages</li>
<li>hypermedia as the engine of application state</li>
</ul>
</li>
<li>Layered System</li>
<li>Code-on-demand</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content green-title little-bullets" ref="hypermedia_overview/01_three_things/7">
<h1>Why HTTP?</h1>

<ul>
<li><strike>Client-Server</strike></li>
<li><strike>Stateless</strike></li>
<li><strike>Caching</strike></li>
<li><strike>Uniform Interface</strike>

<ul>
<li><strike>identification of resources</strike></li>
<li><strike>representations</strike></li>
<li><strike>self-descriptive messages </strike></li>
<li><strong>hypermedia as the engine of application state</strong></li>
</ul>
</li>
<li><strike>Layered System</strike></li>
<li><strike>Code-on-demand</strike></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="hypermedia_overview/01_three_things/8">
<h1><code>GET /photos/12/delete</code></h1></div>
</div><div class="slide" data-transition="none"><div class="content green-title padding-bottom" ref="hypermedia_overview/01_three_things/9">
<h1>MIME &amp; Hypermedia</h1>

<p>Sitting in a tree</p></div>
</div><div class="slide" data-transition="none"><div class="content five-steps-intro" ref="five_steps_of_design/00_intro/1">
<h3>Five steps of</h3>

<h1>Hypermedia</h1>

<h2>API Design</h2></div>
</div><div class="slide" data-transition="none"><div class="content five-steps lightblue-title padding-bottom" ref="five_steps_of_design/00_intro/2">
<h1>Five Steps</h1>

<ol>
<li>Evaluate Business Processes</li>
<li>Create State Machine</li>
<li>Evaluate Media Types</li>
<li>Create Media Types</li>
<li>Implement!</li>
</ol>
</div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title padding-bottom" ref="five_steps_of_design/00_intro/3">
<h1>A wild example appears!</h1></div>
</div><div class="slide" data-transition="none"><div class="content w3clove-pic" ref="five_steps_of_design/00_intro/4">
<p><img src="./file/five_steps_of_design/w3clove.png" alt="w3clove"/></p></div>
</div><div class="slide" data-transition="none"><div class="content bigcode" ref="five_steps_of_design/00_intro/5">
<pre><code>GET /api/v1/sitemaps/check
  ?uri=http://www.zeldman.com

Host: http://w3clove.com
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="five_steps_of_design/00_intro/6">
<h1>Response</h1>

<pre><code>{
  "created_at": "2012-01-30T01:17:04Z",
  "scraped_at": "2012-01-30T01:17:10Z",
  "scraping_success": true,
  "url": "http://www.zeldman.com",
  "web_pages_count": 57,
  "validation_errors_count": 2951,
  "validation_warnings_count": 8,
  "web_pages": [{
    "created_at": "2012-01-30T01:17:09Z",
    "url": "http://www.zeldman.com/",
  ...
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="five_steps_of_design/00_intro/7">
<pre><code>GET /api/v1/web_pages/check
  ?uri=http://www.zeldman.com/2011/12/23/hitler-reacts-to-sopa/

Host: http://w3clove.com
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title" ref="five_steps_of_design/01_business_process/1">
<h1>Evaluate<br/>Business<br/>Processes</h1></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title padding-bottom" ref="five_steps_of_design/01_business_process/2">
<h1>Two processes</h1></div>
</div><div class="slide" data-transition="none"><div class="content two-processes" ref="five_steps_of_design/01_business_process/3">
<p>Web Pages</p>

<p>Sitemaps</p></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title" ref="five_steps_of_design/02_create_state_machine/1">
<h1>Create<br/>State<br/>Machine</h1></div>
</div><div class="slide" data-transition="none"><div class="content state-machine" ref="five_steps_of_design/02_create_state_machine/2">
<p><img src="./file/five_steps_of_design/state_machine.png" alt="state machine"/></p></div>
</div><div class="slide" data-transition="none"><div class="content state-machine" ref="five_steps_of_design/02_create_state_machine/3">
<p><img src="./file/five_steps_of_design/state_machine_two.png" alt="state machine"/></p></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title padding-bottom" ref="five_steps_of_design/03_evaluate_media_types/1">
<h1>Evaluate<br/>Media<br/>Types</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="five_steps_of_design/03_evaluate_media_types/2">
<h1>JSON cant drive your API.</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="five_steps_of_design/03_evaluate_media_types/3">
<h1>Sorry.</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="five_steps_of_design/03_evaluate_media_types/4">
<h1>Build hypermedia semantics on top of JSON.</h1></div>
</div><div class="slide" data-transition="none"><div class="content" ref="five_steps_of_design/03_evaluate_media_types/5">
<h1>Let's do it!</h1></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title padding-bottom" ref="five_steps_of_design/04_create_media_types/1">
<h1>Create Media Types</h1></div>
</div><div class="slide" data-transition="none"><div class="content medium-paras" ref="five_steps_of_design/04_create_media_types/2">
<p>Media type design is just as much an art as it is a science.</p></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title media-definition" ref="five_steps_of_design/04_create_media_types/3">
<h1>Needed in a definition:</h1>

<ul>
<li>data elements</li>
<li>hypermedia controls</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title medium-paras padding-bottom" ref="five_steps_of_design/04_create_media_types/4">
<h1>w3clove.validation+json</h1>

<p>application/vnd.w3clove.validation+json</p></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title" ref="five_steps_of_design/04_create_media_types/5">
<h1>Data Elements</h1>

<pre><code>{
  "created_at": "2012-01-30T01:17:04Z",
  "scraped_at": "2012-01-30T01:17:10Z",
  "scraping_success": true,
  "url": "http://www.zeldman.com",
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title medium-paras" ref="five_steps_of_design/04_create_media_types/6">
<h1>Data Elements</h1>

<p>A response MAY contain <code>created_at</code>, <code>scraped_at</code>, <code>scraping_success</code>, <code>updated_at</code>, <code>url</code>, <code>web_pages_count</code>, <code>validation_errors_count</code>, <code>validation_warnings_count</code>, and <code>pending_count</code> elements.</p></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title medium-paras" ref="five_steps_of_design/04_create_media_types/7">
<h1>Hypermedia Controls</h1>

<p>A response MAY include a <code>forms</code> element, which is an array of objects. They MUST have these elements: <code>href</code>, <code>rel</code>, and <code>data</code> elements. <code>data</code> will be an array of objects that MUST have two keys, <code>name</code>, and <code>value</code>.</p></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title medium-paras" ref="five_steps_of_design/04_create_media_types/8">
<h1>Hypermedia Controls</h1>

<ul>
<li><code>sitemap-form</code>: Following a link with this rel will lead you to a resource with a form for generating a Sitemap API request.</li>
<li><code>sitemap</code>: Processing a form with this rel will lead you to a resource that gives you validation information about a sitemap.</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title padding-bottom" ref="five_steps_of_design/05_implement/1">
<h1>Implement!</h1></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title padding-bottom" ref="five_steps_of_design/05_implement/2">
<h1>Sample response</h1>

<pre><code>  request("http://w3clove.com/api/", 
    "application/vnd.w3clove.validation+json")
  # =&gt;  
  {
    "links":[
    {"rel":"website-form", "href":"..."},
    {"rel":"sitemap-form", "href":"..."}
    ]
  }
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="five_steps_of_design/05_implement/3">
<pre><code>uri = response["links"].find {|link| 
  link["rel"] == "sitemap-form"
}["href"]

request(uri,
  "application/vnd.w3clove.validation+json")
# =&gt; 
{
  "forms":[
    {"href":"...", 
     "rel":"sitemap",
     "data":[
      "name":"check",
      "value":""]}
    ]
}
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title padding-bottom recap" ref="epilogue/01_epilogue/1">
<h1>Recap</h1>

<ol>
<li>Evaluate Business Processes</li>
<li>Create State Machine</li>
<li>Evaluate Media Types</li>
<li>Create Media Types</li>
<li>Implement!</li>
</ol>
</div>
</div><div class="slide" data-transition="none"><div class="content lightblue-title padding-bottom medium-paras" ref="epilogue/01_epilogue/2">
<h1>I'm writing a book!</h1>

<p><a href="http://getsomere.st">http://getsomere.st</a></p></div>
</div><div class="slide" data-transition="none"><div class="content" ref="epilogue/01_epilogue/3">
<p><a href="http://twitter.com/steveklabnik">@steveklabnik</a></p>

<p><a href="http://steveklabnik.com">http://steveklabnik.com</a></p>

<p><a href="http://getsomere.st">http://getsomere.st</a></p>

<p><a href="http://tutorials.jumpstartlab.com">http://tutorials.jumpstartlab.com</a></p></div>
</div></div>

</body>
</html>
